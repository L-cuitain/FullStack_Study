
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>漠丶叹尘的空间</title>
    	<link rel="icon" sizes="any" mask href="http://qzonestyle.gtimg.cn/qzone/v8/img/Qzone.svg">
    	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body>
    <div class="header">
        This is the head nav
    </div>
    <div class="topInfo">
        <span class="edit">编辑</span>
    	<div class="zoneName">
    		<h2>漠丶叹尘 的空间</h2>
    		<p>知我者，谓我心忧。不知我者，谓我何求。</p>
    	</div>
    	<div class="support">
    		<img src="image/support_1.png" alt="赞">
    		<span class="num">7</span>
    	</div>
    	<div class="tips">7人赞过</div>
    	<!-- bottom nav -->
    	<div class="top_bottom">
    	   <div class="photo">
    	   	  <img src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124">   
    	   </div>
    	      <div class="uploadphoto">修改头像</div>
    	   <div class="container">
    	   	  <ul class="section">
    			<li>主页</li>
    			<li>日志</li>
    			<li>相册</li>
    			<li>留言板</li>
    			<li>说说</li>
    			<li>个人档</li>
    			<li>音乐</li>
    			<li>更多</li>
    		</ul>
    	   </div>
    	</div>
    </div>
    <!-- 下面实现留言板功能 -->
    <div class="mainframe">
    	<div class="title">留言板</div>
    	<div class="message">主人寄语</div>
    	<div class="info">
    		这是主人留下的寄语~
    	</div>
    	<div class="content" contenteditable="true"></div>
    	<input type="button" name="submit" value="发表" class="subbtn">
    	<div class="numofmessage">留言(0)</div>
    	<!-- 下面是留言区 -->
    	<div class="msgFrame">
    	    
         </div>
    </div>
</body>
<script>
	 //获取 留言板
	 let oDv = document.querySelector('.content');

	 //获取发表按钮
	 let oBtn = document.querySelector('.subbtn');

	 //获取 留言区
	 let oMsg = document.querySelector('.msgFrame');

	 //获取留言数
	 let oCountMsg = document.querySelector('.numofmessage');
	 

	 //为发表按钮创建鼠标点击事件
	 oBtn.onclick=function(){

		 //获取 留言板中的 内容
		 let content = oDv.innerText;	 

		//判断 内容是否为空
		if(content == ""){
			alert("您还没有输入任何内容");
		}else{

			//在留言区添加内容
			setMsg(oMsg,content);
		}

		//获取留言条数
		let count = oMsg.children.length;
		
		//改变留言条数
		oCountMsg.innerHTML = "留言("+count+")";

		//清空留言板
		oDv.innerHTML = "";
	 }



	 //创建日期
	 function getDate(){
		 
		 //创建日期对象
		 let date = new Date();

		 //返回日期格式
		 return date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDay()+"  "+date.getHours()+":"+date.getMinutes()+":"+date.getSeconds();
	 }


	 //创建方法  点击后生成一条留言
	 function setMsg(oMsg,content){

		//创建 块区域  拼装留言板
		let oCon = document.createElement('div');
		oCon.className = 'content_1';

		let oName = document.createElement('img');
		oName.className = 'name';
		oName.src = "http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124";
		oName.alt = "photo";

		let oMainInfo = document.createElement('div');
		oMainInfo.className = 'mainInfo';

		let oUserId = document.createElement('div');
		oUserId.className = 'userId';

		let oA = document.createElement('a');
		oA.innerHTML = 'zipple';

		let oConInfo = document.createElement('div');
		oConInfo.className = 'conInfo';
		oConInfo.innerHTML = content;

		let oTime = document.createElement('div');
		oTime.className = 'time';
		oTime.innerHTML = getDate();



		oUserId.appendChild(oA);		

		oMainInfo.appendChild(oUserId);

		oMainInfo.appendChild(oConInfo);	

		oMainInfo.appendChild(oTime);

		oCon.appendChild(oName);

		oCon.appendChild(oMainInfo);

		//将 留言板 添加到 留言区域中
		oMsg.appendChild(oCon);
	 }
</script>
</html>